<div class="container">
  <mat-card class="card">
    <h1 class="title">Recuperar contraseña</h1>
    <form [formGroup]="form" (ngSubmit)="submit()">
      <mat-form-field appearance="fill" class="full">
        <mat-label>Email</mat-label>
        <mat-icon matPrefix>mail</mat-icon>
        <input matInput type="email" formControlName="email" placeholder="Ingresa tu email" required />
        <mat-error *ngIf="form.controls['email'].touched && form.controls['email'].hasError('required')">Este campo es obligatorio</mat-error>
        <mat-error *ngIf="form.controls['email'].touched && form.controls['email'].hasError('email')">Email inválido</mat-error>
      </mat-form-field>

      <div class="recaptcha">
        <div *ngIf="recaptchaSiteKey"><div #recaptchaElem></div></div>
        <p *ngIf="recaptchaError" class="error">{{ recaptchaError }}</p>
      </div>

      <button mat-raised-button color="primary" class="full" [disabled]="loading || form.invalid">{{ loading ? 'Cargando...' : 'Enviar' }}</button>
      <p *ngIf="status" class="status">{{ status }}</p>
    </form>
  </mat-card>
</div>